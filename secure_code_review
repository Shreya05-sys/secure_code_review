import sqlite3

def check_login(username, password):
    db = sqlite3.connect('users.db')
    cursor = db.cursor()
    query = "SELECT * FROM users WHERE username = '" + username + "' AND password = '" + password + "'"
    cursor.execute(query)
    user = cursor.fetchone()
    db.close()
    if user:
        return True
    else:
        return False

def setup_db():
    db = sqlite3.connect('users.db')
    cursor = db.cursor()
    cursor.execute('''CREATE TABLE IF NOT EXISTS users (username TEXT, password TEXT)''')
    try:
        cursor.execute("INSERT INTO users VALUES ('admin', 'password123')")
    except sqlite3.IntegrityError:
        pass
    db.commit()
    db.close()

setup_db()
user_input_u = "admin"
user_input_p = "' OR '1'='1"

if check_login(user_input_u, user_input_p):
    print("Login successful")
else:
    print("Login failed")
